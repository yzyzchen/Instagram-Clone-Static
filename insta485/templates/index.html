<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>insta485</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <!-- Default header -->
  <header>
    <div class="topbar" style="display: flex; justify-content: space-between; align-items: center;">
      <!-- Left-aligned logo -->
      <div class="header-left">
        <a href="/" style="text-decoration: none; font-weight: bold;">Insta485</a>
      </div>
      <!-- Right-aligned links -->
      <div class="header-right" style="text-align: right;">
        <a href="/explore/" style="text-decoration: none; margin-right: 10px;">explore</a> |
        <a href="/users/{{ logname }}/" style="text-decoration: none;">{{ logname }}</a>
      </div>
    </div>
  </header>
  <hr>

  <!-- Page body -->
  <main>
    <div class="post_loop">
      {% for post in posts %}
        <!-- User name and profile picture -->
        <div class="image" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
          <!-- User Profile Section -->
          <a href="/users/{{ post.owner }}/" style="display: flex; align-items: center; text-decoration: none;">
              <img src="{{ post.owner_img_url }}" alt="User Profile Image" 
                   style="max-width: 50px; height: 50px; border-radius: 50%; margin-right: 10px;">
              <span style="font-weight: bold; color: #333;">{{ post.owner }}</span>
          </a>
      
          <!-- Timestamp Section -->
          <div class="timestamp-right" style="text-align: right;">
              <a href="/posts/{{ post.postid }}/" style="text-decoration: none; color: inherit;">{{ post.timestamp }}</a>
          </div>
        </div>

        <!-- Post image -->
        <div class="image">
          <a href="/posts/{{ post.postid }}/">
            <img src="{{ post.img_url }}" alt="Post Image" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px;">
          </a>
        </div>

        <!-- Likes -->
        <div class="likes" style="margin-top: 10px;">
          {% if post['likes'] == 1 %}
            <p style="margin: 0;">{{ post['likes'] }} like</p>
          {% else %}
            <p style="margin: 0;">{{ post['likes'] }} likes</p>
          {% endif %}
        </div>

        <!-- Comments -->
        <div class="comment_loop" style="margin-top: 10px;">
          {% for comment in post.comments %}
            <p style="margin: 0;">
              <a href="/users/{{ comment.owner }}/" style="text-decoration: none; font-weight: bold; color: #333;">{{ comment.owner }}</a>
              {{ comment.text }}
            </p>
          {% endfor %}
        </div>
        <hr>
      {% endfor %}
    </div>
  </main>

  <!-- Footer -->
  <footer style="text-align: center; margin-top: 20px;">
    <p>&copy; 2025 insta485</p>
  </footer>
</body>
</html>